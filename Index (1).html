<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultimate Slot World</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(#001f3f,#003566);
color:white;
text-align:center;
}

.screen{display:none;padding:20px;}
#login{display:block;}

.header{
display:flex;
justify-content:space-between;
background:#012a4a;
padding:10px;
}

.header div{
background:#0077b6;
padding:8px 15px;
border-radius:8px;
cursor:pointer;
}

.game-card{
background:#023e8a;
margin:10px;
padding:15px;
border-radius:10px;
cursor:pointer;
}

.slot-container{
margin:20px auto;
width:360px;
background:#001d3d;
padding:10px;
border-radius:15px;
box-shadow:0 0 20px #00b4d8;
}

.slot-grid{
display:grid;
grid-template-columns:repeat(4,80px);
gap:8px;
justify-content:center;
}

.slot-grid img{
width:80px;
height:80px;
border-radius:10px;
border:2px solid #00b4d8;
}

.spin-btn{
background:linear-gradient(#00b4d8,#0077b6);
padding:12px 40px;
font-size:18px;
border:none;
border-radius:50px;
color:white;
cursor:pointer;
margin-top:10px;
}

.balance-top{
font-size:18px;
color:gold;
margin-bottom:10px;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login" class="screen">
<h2>Login / Signup</h2>
<input id="mobile" placeholder="Mobile"><br><br>
<input type="password" id="password" placeholder="Password"><br><br>
<button onclick="signup()">Signup</button>
<button onclick="login()">Login</button>
<button onclick="forgotPassword()">Forgot Password</button>
</div>

<!-- HOME -->
<div id="home" class="screen">
<div class="header">
<div onclick="openProfile()">P</div>
<div onclick="openWallet()">W â‚¹<span id="walletDisplay">0</span></div>
<div onclick="openBonus()">B</div>
</div>

<h2>Select Game</h2>
<div class="game-card" onclick="openGame(1)">Game 1 (Easy)</div>
<div class="game-card" onclick="openGame(2)">Game 2 (Medium)</div>
<div class="game-card" onclick="openGame(3)">Game 3 (Hard)</div>
<div class="game-card" onclick="openGame(4)">Game 4 (Ultra)</div>
<div class="game-card" onclick="openGame(5)">Game 5 (Ocean Special)</div>
</div>

<!-- GAME -->
<div id="game" class="screen">
<div class="balance-top">
Main Balance â‚¹<span id="mainBalance"></span>
</div>

<h3 id="gameTitle"></h3>

Bet:
<select id="betAmount"></select>

<div class="slot-container">
<div class="slot-grid" id="slotGrid"></div>
</div>

<button class="spin-btn" onclick="spin()">SPIN</button>
<button onclick="backHome()">Back</button>
</div>

<!-- PROFILE -->
<div id="profile" class="screen">
<h2>Profile</h2>
<p id="profileData"></p>
<button onclick="backHome()">Back</button>
<button onclick="logout()">Logout</button>
</div>

<!-- WALLET -->
<div id="walletScreen" class="screen">
<h2>Wallet</h2>
<p>Balance â‚¹<span id="walletDisplay2"></span></p>
<button onclick="addFund()">Add Fund</button>
<button onclick="withdraw()">Withdraw</button>
<button onclick="backHome()">Back</button>
</div>

<!-- BONUS -->
<div id="bonusScreen" class="screen">
<h2>Daily Bonus</h2>
<button onclick="dailyBonus()">Claim Bonus</button>
<button onclick="backHome()">Back</button>
</div>

<audio id="spinSound">
<source src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1931.mp3">
</audio>

<script>

let walletAmount=0;
let freeSpin=0;
let currentGame=1;
let spinning=false;

let symbolsOcean=[
"https://cdn-icons-png.flaticon.com/512/616/616494.png",
"https://cdn-icons-png.flaticon.com/512/3069/3069172.png",
"https://cdn-icons-png.flaticon.com/512/427/427735.png",
"https://cdn-icons-png.flaticon.com/512/616/616430.png",
"https://cdn-icons-png.flaticon.com/512/3523/3523063.png"
];

let symbolsNormal=[
"https://cdn-icons-png.flaticon.com/512/833/833472.png",
"https://cdn-icons-png.flaticon.com/512/888/888879.png",
"https://cdn-icons-png.flaticon.com/512/616/616494.png",
"https://cdn-icons-png.flaticon.com/512/3523/3523063.png",
"https://cdn-icons-png.flaticon.com/512/1828/1828843.png"
];

function show(id){
document.querySelectorAll(".screen").forEach(s=>s.style.display="none");
document.getElementById(id).style.display="block";
}

/* Bet 1-50 */
for(let i=1;i<=50;i++){
let opt=document.createElement("option");
opt.value=i;
opt.innerText="â‚¹"+i;
betAmount.appendChild(opt);
}

/* Signup */
function signup(){
let m=mobile.value,p=password.value;
if(!m||!p)return alert("Enter Details");
if(localStorage.getItem(m))return alert("Already Registered");
localStorage.setItem(m,JSON.stringify({wallet:1000,password:p,bonusTime:0}));
alert("Signup Success â‚¹1000 Added");
}

/* Login */
function login(){
let m=mobile.value,p=password.value;
let data=JSON.parse(localStorage.getItem(m));
if(!data||data.password!==p)return alert("Invalid Login");
sessionStorage.setItem("user",m);
walletAmount=parseInt(data.wallet);
updateWallet();
show("home");
}

/* Forgot */
function forgotPassword(){
let m=prompt("Mobile");
let data=JSON.parse(localStorage.getItem(m));
if(!data)return alert("Not Registered");
let otp=Math.floor(1000+Math.random()*9000);
alert("OTP: "+otp);
if(parseInt(prompt("Enter OTP"))===otp){
let np=prompt("New Password");
data.password=np;
localStorage.setItem(m,JSON.stringify(data));
alert("Password Reset");
}
}

/* Create Grid */
function createGrid(){
slotGrid.innerHTML="";
let arr=currentGame===5?symbolsOcean:symbolsNormal;
for(let i=0;i<16;i++){
let img=document.createElement("img");
img.src=arr[Math.floor(Math.random()*arr.length)];
slotGrid.appendChild(img);
}
}

/* Open Game */
function openGame(n){
currentGame=n;
gameTitle.innerText="Game "+n;
createGrid();
mainBalance.innerText=walletAmount;
show("game");
}

/* HIGH SPEED SPIN */
function spin(){

if(spinning)return;
let bet=parseInt(betAmount.value);

if(walletAmount<bet && freeSpin<=0)return alert("Low Balance");

spinning=true;

if(freeSpin>0)freeSpin--;
else walletAmount-=bet;

let sound=document.getElementById("spinSound");
sound.currentTime=0;
sound.play();

let arr=currentGame===5?symbolsOcean:symbolsNormal;
let interval=setInterval(()=>{
document.querySelectorAll("#slotGrid img").forEach(img=>{
img.src=arr[Math.floor(Math.random()*arr.length)];
});
},40);

setTimeout(()=>{
clearInterval(interval);
finishSpin(bet);
spinning=false;
},1500);
}

function finishSpin(bet){

let imgs=document.querySelectorAll("#slotGrid img");
let dangerCount=0;

imgs.forEach(img=>{
if(img.src.includes("3523063"))dangerCount++;
});

if(dangerCount>=5){
freeSpin+=5;
alert("5 Danger = 5 Free Spins");
}

let chance=Math.random();

/* 5 Different Game Logic */
if(currentGame===1 && chance<0.07)win(bet*10);
if(currentGame===2 && chance<0.05)win(bet*20);
if(currentGame===3 && chance<0.03)win(bet*40);
if(currentGame===4 && chance<0.02)win(bet*80);
if(currentGame===5 && chance<0.01)win(bet*150);

updateWallet();
mainBalance.innerText=walletAmount;
}

function win(amount){
walletAmount+=amount;
alert("ðŸŽ‰ You Win â‚¹"+amount);
}

function dailyBonus(){
let user=sessionStorage.getItem("user");
let data=JSON.parse(localStorage.getItem(user));
if(Date.now()-data.bonusTime<86400000)return alert("Already Claimed");
let b=Math.floor(Math.random()*11)+5;
walletAmount+=b;
data.bonusTime=Date.now();
localStorage.setItem(user,JSON.stringify(data));
updateWallet();
alert("Bonus â‚¹"+b);
}

function updateWallet(){
walletDisplay.innerText=walletAmount;
walletDisplay2.innerText=walletAmount;
let user=sessionStorage.getItem("user");
if(!user)return;
let data=JSON.parse(localStorage.getItem(user));
data.wallet=walletAmount;
localStorage.setItem(user,JSON.stringify(data));
}

function addFund(){
let acc=prompt("Account Number");
let ifsc=prompt("IFSC Code");
let amt=parseInt(prompt("Amount"));
if(acc&&ifsc&&amt>0){
walletAmount+=amt;
updateWallet();
}
}

function withdraw(){
let acc=prompt("Account Number");
let ifsc=prompt("IFSC Code");
let amt=parseInt(prompt("Withdraw Amount"));
if(amt<=walletAmount){
walletAmount-=amt;
updateWallet();
}
}

function openProfile(){
let u=sessionStorage.getItem("user");
profileData.innerHTML="Mobile: "+u+"<br>Balance â‚¹"+walletAmount;
show("profile");
}

function logout(){
sessionStorage.clear();
show("login");
}

function openWallet(){updateWallet();show("walletScreen");}
function openBonus(){show("bonusScreen");}
function backHome(){show("home");}

</script>
</body>
</html>